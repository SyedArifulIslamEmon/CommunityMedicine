@using CommunityMedicine.Models
@{
    ViewBag.Title = "Map";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<form id="Map" name="Map" action="Map" method="POST">
    <tr>
    <table class="table">
        <tr>
            <td>
                <div class="form-group">
                    <label for="Date" class="col-sm-2 control-label">From</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="Date" name="Date">
                    </div>
                </div>
            </td>
            <td>
                <div class="form-group">
                    <label for="Date" class="col-sm-2 control-label">To</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="Date2" name="Date2">
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="form-group">
                    <label for="Date" class="col-sm-2 control-label">Disease</label>
                    <div>
                        <select class="form-control" id="Disease" name="Disease">
                            <option value="" selected>Select Disease</option>
                            @foreach (var disease in ViewBag.Disease)
                            {
                                <option value="@disease.DiseaseName">@disease.DiseaseName</option>
                            }
                        </select>
                    </div>
                </div>

            </td>
            <td>
                <button type="submit" class="btn btn-primary" name="showreport" id="showreport">Show Report</button>
            </td>
        </tr>
    </table>
    </tr>
</form>

<h2>Disease Demographic Report</h2>

<script type='text/javascript' src='http://www.google.com/jsapi'></script>
<script type='text/javascript'>
    google.load('visualization', '1', {'packages': ['geochart']});
    google.setOnLoadCallback(drawVisualization);

    function drawVisualization() {var data = new google.visualization.DataTable();

        data.addColumn('string', 'Country');
        data.addColumn('number', 'Value');
        data.addColumn({type:'string', role:'tooltip'});var ivalue = new Array();

        data.addRows([[{ v: 'BD-C', f: 'Dhaka' }, @ViewBag.dhaka, 'Total Patient: @ViewBag.dhaka Date: @ViewBag.fromdate To @ViewBag.todate Disease Name : @ViewBag.dname']]);
        ivalue['BD-C'] = '';

        data.addRows([[{v:'BD-D',f:'Khulna'}, @ViewBag.khulna, 'Total Patient: @ViewBag.khulna Date: @ViewBag.fromdate To @ViewBag.todate Disease Name : @ViewBag.dname']]);
        ivalue['BD-D'] = '';

        data.addRows([[{v:'BD-B',f:'Chittagong'}, @ViewBag.chittagong, 'Total Patient: @ViewBag.chittagong Date: @ViewBag.fromdate To @ViewBag.todate Disease Name : @ViewBag.dname']]);
        ivalue['BD-B'] = '';

        data.addRows([[{v:'BD-A',f:'Barisal'}, @ViewBag.barisal, 'Total Patient: @ViewBag.barisal Date: @ViewBag.fromdate To @ViewBag.todate Disease Name : @ViewBag.dname']]);
        ivalue['BD-A'] = '';

        data.addRows([[{v:'BD-E',f:'Rajshahi'}, @ViewBag.rajshahi, 'Total Patient: @ViewBag.rajshahi Date: @ViewBag.fromdate To @ViewBag.todate Disease Name : @ViewBag.dname']]);
        ivalue['BD-E'] = '';

        data.addRows([[{v:'BD-F',f:'Rangpur'}, @ViewBag.rangpur, 'Total Patient: @ViewBag.rangpur Date: @ViewBag.fromdate To @ViewBag.todate Disease Name : @ViewBag.dname']]);
        ivalue['BD-F'] = '';

        data.addRows([[{v:'BD-G',f:'Sylhet'}, @ViewBag.sylhet, 'Total Patient: @ViewBag.sylhet Date: @ViewBag.fromdate To @ViewBag.todate Disease Name : @ViewBag.dname']]);
        ivalue['BD-G'] = '';



 var options = {
     backgroundColor: {fill:'transparent',stroke:'#FFFFFF' ,strokeWidth:0 },
     colorAxis:  {minValue: 0, maxValue: 6,  colors: ['#DC143C','#FF8C00','#FFD700','#31A354','#20B2AA','#6B8E23','#6B8E23',]},
     legend: 'none',
     backgroundColor: {fill:'transparent',stroke:'#FFFFFF' ,strokeWidth:0 },
     datalessRegionColor: '#f5f5f5',
     displayMode: 'regions',
     enableRegionInteractivity: 'true',
     resolution: 'provinces',
     sizeAxis: {minValue: 1, maxValue:1,minSize:10,  maxSize: 10},
     region:'BD',
     keepAspectRatio: true,
     width:1000,
     height:700,
     tooltip: {textStyle: {color: '#444444'}, trigger:'focus'}
 };
 var chart = new google.visualization.GeoChart(document.getElementById('visualization'));
 chart.draw(data, options);
}
</script>
<div id='visualization'></div>
@section myCss{

    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">

}
@section scripts{
<script src="//code.jquery.com/ui/1.11.2/jquery-ui.js"></script>

    <script>
    $(document).ready(function () {

        $("#Date").datepicker({ dateFormat: 'yy-mm-dd' });
        $("#Date2").datepicker({ dateFormat: 'yy-mm-dd' });
    });
    </script>
}